<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>Language HTTP <a href="https://travis-ci.org/OpenFn/language-http"><img src="https://travis-ci.org/OpenFn/language-http.svg?branch=master" alt="Build Status"></a></h1>
<p>Language Pack for building expressions and operations to make HTTP calls.</p>
<h2>Documentation</h2>
<h4>sample configuration</h4>
<pre class="prettyprint source lang-js"><code>{
  &quot;username&quot;: &quot;taylor@openfn.org&quot;,
  &quot;password&quot;: &quot;supersecret&quot;,
  &quot;baseUrl&quot;: &quot;https://instance_name.surveycto.com&quot;,
  &quot;authType&quot;: &quot;digest&quot;
}
</code></pre>
<h3>Get data</h3>
<p>This helper function allows the use of a get method to fetch data. You can specify a query string for filter.</p>
<pre class="prettyprint source lang-js"><code>get(
  '/myendpoint',
  {
    query: { foo: 'bar', a: 1 },
    headers: { 'content-type': 'application/json' },
    authentication: { username: 'taylor', password: 'somethingsecret' },
  },
  state => {
    return state;
  }
);
</code></pre>
<h3>Post existing data</h3>
<p>Send some data to an existing endpoint.</p>
<pre class="prettyprint source lang-js"><code>post('/endpoint', {
  body: state => {
    return {
      field_1: 'some_data',
      field_2: 'some_more_data',
      field_id: dataValue('Some.Json.Object.Id')(state),
    };
  },
  headers: {
    Authorization: 'AUTH_KEY',
    'Content-Type': 'application/json',
  },
});
</code></pre>
<h3>Update existing data with PUT or PATCH</h3>
<pre class="prettyprint source lang-js"><code>put(
  '/myendpoint',
  {
    body: { firstname: 'taylor', lastname: 'downs' },
    headers: { 'content-type': 'application/json' },
    authentication: { username: 'user', password: 'pass' },
  },
  state => {
    return state;
  }
);
</code></pre>
<pre class="prettyprint source lang-js"><code>patch(
  '/myendpoint',
  {
    body: { firstname: 'taylor', lastname: 'downs' },
    headers: { 'content-type': 'application/json' },
    authentication: { username: 'user', password: 'pass' },
  },
  state => {
    return state;
  }
);
</code></pre>
<h3>Delete data</h3>
<pre class="prettyprint source lang-js"><code>del(
  '/myendpoint',
  {
    query: { id: 'someId' },
    headers: { 'content-type': 'application/json' },
    authentication: { username: 'user', password: 'pass' },
  },
  state => {
    return state;
  }
);
</code></pre>
<h3>Parse XML</h3>
<p>This function allows you to parse some xml data. A callback function can be use to store in a table.</p>
<pre class="prettyprint source lang-js"><code>parseXML(body, function ($) {
  return $('table[class=your_table]').parsetable(true, true, true);
});
</code></pre>
<h3>Parse CSV</h3>
<pre class="prettyprint source lang-js"><code>parseCSV('/home/user/someData.csv', {
  quoteChar: '&quot;',
  header: false,
});
</code></pre>
<h3>Sample parse local CSV file</h3>
<pre class="prettyprint source lang-js"><code>parseCSV('/home/taylor/PatientsJan2009.csv', {
  quoteChar: '&quot;',
  header: false,
  columns: true,
  skip_empty_lines: true,
  trim: true,
  bom: true,
});
</code></pre>
<p><a href="docs/index">Docs</a></p>
<h2>Development</h2>
<p>Clone the repo, run <code>npm install</code>.</p>
<p>Run tests using <code>npm run test</code> or <code>npm run test:watch</code></p>
<p>Build the project using <code>make</code>.</p>
<p>To build the docs for this repo, run <code>./node_modules/.bin/jsdoc --readme ./README.md ./lib -d docs</code>.</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Adaptor.html">Adaptor</a></li></ul><h3>Classes</h3><ul><li><a href="module-Adaptor-del.html">del</a></li><li><a href="module-Adaptor-execute.html">execute</a></li><li><a href="module-Adaptor-get.html">get</a></li><li><a href="module-Adaptor-parseCSV.html">parseCSV</a></li><li><a href="module-Adaptor-parseXML.html">parseXML</a></li><li><a href="module-Adaptor-patch.html">patch</a></li><li><a href="module-Adaptor-post.html">post</a></li><li><a href="module-Adaptor-put.html">put</a></li><li><a href="module-Adaptor-request.html">request</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Fri Feb 12 2021 19:46:10 GMT+0000 (Greenwich Mean Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>